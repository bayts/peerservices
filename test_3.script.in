topology
2 2 2 2 2 2 2

first_node
1 0 1 0 1 0 1

# first_node is the name (fixed) of first implicit node.

wait_msec 200

print_info first_node

add_neighbor n2 to first_node lower_pos 0 1 1 0 1 1 0

wait_msec 200

print_info n2

add_neighbor n3 to first_node lower_pos 1 0 1 0 1 1

wait_msec 200

print_info n3

add_neighbor n4 to first_node lower_pos 0 1 0 0 0

wait_msec 200

print_info n4

add_neighbor n5 to n4 lower_pos 0 1 1 0

wait_msec 200

print_info n5

add_neighbor n6 to n5 lower_pos 0 1 0

wait_msec 200

print_info n6

add_neighbor n7 to n2 lower_pos 0 1 0 1 1 0

wait_msec 200

print_info n7

add_neighbor n8 to n2 lower_pos 0 1 0 1 1

wait_msec 200

print_info n8

add_neighbor n9 to first_node lower_pos 1 0 1 0

wait_msec 200

print_info n9

add_neighbor n10 to n3 lower_pos 1 0 1 1 0

wait_msec 200

print_info n10

add_neighbor n11 to n3 lower_pos 0 1 0 1

wait_msec 200

print_info n11

add_neighbor n12 to n10 lower_pos 1 0 0 0

wait_msec 200

print_info n12

add_neighbor n13 to n8 lower_pos 0 1 0 1

wait_msec 200

request_insert 942328652 primo_record query_node n2 with_retry
assert ok

request_insert 942328652 altro_record query_node n10 with_retry
assert not_free

wait_msec 200

print_info n13

add_neighbor n14 to n7 lower_pos 0 1 0 1 0

wait_msec 200

print_info n14

add_neighbor n15 to n7 lower_pos 1 0 0 1

wait_msec 200

print_info n15

add_neighbor n16 to n10 lower_pos 0 1 0

wait_msec 200

print_info n16

add_neighbor n17 to n16 lower_pos 0 1

wait_msec 200

print_info n17

add_neighbor n18 to n17 lower_pos 0

wait_msec 200

print_info n18

add_neighbor n19 to n13 lower_pos 0 1 1

wait_msec 200

print_info n19

add_neighbor n20 to n14 lower_pos 0 1 0 1

wait_msec 200

print_info n20

add_neighbor n21 to n19 lower_pos 0 0

wait_msec 200

print_info n21

add_neighbor n22 to n14 lower_pos 1 1 0

wait_msec 200

print_info n22

add_neighbor n23 to n21 lower_pos 1

wait_msec 200

print_info n23

add_neighbor n24 to n22 lower_pos 0 1

wait_msec 200

print_info n24

request_read 942328652 query_node first_node
assert ok
expect primo_record

request_read 123456 query_node n17
assert not_found

request_modify 942328652 primo_record_mod query_node n22
assert ok

request_modify 123456 wont_find query_node n8
assert not_found

request_touch 942328652 query_node n16
assert ok

request_read 942328652 query_node n11
assert ok
expect primo_record_mod

request_delete 942328652 query_node n16
assert ok

request_read 942328652 query_node n17
assert not_found

request_delete 942328652 query_node n16
assert not_found

print_info first_node

print_info n2

print_info n3

print_info n4

print_info n5

print_info n6

print_info n7

print_info n8

print_info n9

print_info n10

print_info n11

print_info n12

print_info n13

print_info n14

print_info n15

print_info n16

print_info n17

print_info n18

print_info n19

print_info n20

print_info n21

print_info n22

print_info n23

print_info n24



